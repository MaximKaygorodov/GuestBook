{"version":3,"sources":["App.js","index.js"],"names":["App","props","onChange","e","name","state","mes","message","target","value","setState","getContent","url","encodeURIComponent","fetch","then","response","json","book","onSubmit","preventDefault","console","log","updateScroll","element","document","getElementById","scrollTop","scrollHeight","this","class","id","map","placeholder","type","Component","ReactDOM","render"],"mappings":"qMAoGeA,G,wDA/Fb,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IAiBRC,SAAW,SAACC,GACV,IAAIC,EAAO,EAAKC,MAAMD,KAClBE,EAAM,EAAKD,MAAME,QACC,cAAlBJ,EAAEK,OAAOJ,MACXA,EAAOD,EAAEK,OAAOC,MAChB,EAAKC,SAAS,CAACN,KAAMA,KAEI,YAAlBD,EAAEK,OAAOJ,OAChBE,EAAMH,EAAEK,OAAOC,MACf,EAAKC,SAAS,CAACH,QAASD,MA3BV,EAiClBK,WAAa,WAEX,IAAMC,EAAG,8DAA0DC,mBAAmB,EAAKR,MAAMD,MAAxF,oBAAyGS,mBAAmB,EAAKR,MAAME,UAEhJO,MAAMF,GACHG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAV,GAAK,OAAI,EAAKK,SAAS,CAACQ,KAAOb,QAvCvB,EA0ClBc,SAAW,SAAChB,GACVA,EAAEiB,iBACE,EAAKf,MAAMD,MAAQ,EAAKC,MAAME,SAChC,EAAKI,aAEPU,QAAQC,IAAI,EAAKjB,MAAMa,MACvB,EAAKK,gBAhDW,EAmDlBA,aAAe,WACb,IAAIC,EAAUC,SAASC,eAAe,QAEtCF,EAAQG,UAAYH,EAAQI,cApD5B,EAAKvB,MAAQ,CACXD,KAAM,GACNG,QAAS,GACTW,KAAM,IALQ,E,gEAUE,IAAD,OAEjBJ,MADY,wDAETC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAV,GAAK,OAAI,EAAKK,SAAS,CAACQ,KAAOb,OACvCgB,QAAQC,IAAI,kBACZO,KAAKN,iB,+BA0CL,OACI,yBAAKO,MAAM,mBACT,yBAAKA,MAAM,OACT,2CAEF,yBAAKA,MAAM,2BACT,yBAAKA,MAAQ,0BAA0BC,GAAG,QACnCF,KAAKxB,MAAMa,KAAKc,KAAI,SAAA1B,GAAG,OAAI,yBAAKwB,MAAM,QAAO,4BAAKxB,EAAIF,MAAWE,EAAIC,aAG5E,yBAAKuB,MAAM,eAGT,0BAAMX,SAAUU,KAAKV,UAEnB,yBAAKW,MAAQ,OACX,yBAAKA,MAAQ,2BACX,2BAAOG,YAAY,kBAAkB/B,SAAU2B,KAAK3B,SAAUO,MAAOoB,KAAKxB,MAAMD,KAAO0B,MAAM,eAAe1B,KAAK,eAGnH,yBAAK0B,MAAQ,0BACX,2BAAOG,YAAY,gBAAgB/B,SAAU2B,KAAK3B,SAAUE,KAAK,UAAU0B,MAAM,kBAGnF,yBAAKA,MAAM,aACT,4BAAQI,KAAK,SAASJ,MAAM,mBAA5B,oB,GArFFK,cCClBC,IAASC,OACP,kBAAC,EAAD,MAASZ,SAASC,eAAe,U","file":"static/js/main.edf8f8aa.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport './style.css'\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      name: '',\n      message: '',\n      book: []\n    }\n    \n  }\n  \n  componentDidMount(){\n    const url = \"https://servername123.herokuapp.com/api/request_data\";\n    fetch(url)\n      .then(response => response.json())\n      .then(state => this.setState({book : state}));\n    console.log(\"data requested\")\n    this.updateScroll();\n  }\n  onChange = (e) => {\n    let name = this.state.name;\n    let mes = this.state.message;\n    if (e.target.name === \"firstname\"){\n      name = e.target.value;\n      this.setState({name: name});\n    }\n    else if (e.target.name === \"message\"){\n      mes = e.target.value;\n      this.setState({message: mes});\n      // console.log(this.state.message)\n    }\n  }\n\n\n  getContent = () => {\n    \n    const url = `https://servername123.herokuapp.com/api/submit?name=${encodeURIComponent(this.state.name)}&message=${encodeURIComponent(this.state.message)}`;\n    // alert(url)\n    fetch(url)\n      .then(response => response.json())\n      .then(state => this.setState({book : state}));\n  }\n     \n  onSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.name && this.state.message){\n      this.getContent();\n    }\n    console.log(this.state.book) \n    this.updateScroll();\n  }\n    \n  updateScroll = () => {\n    var element = document.getElementById(\"chat\");\n    // console.log(element)\n    element.scrollTop = element.scrollHeight;\n}\n\n  render() {\n    return (\n        <div class='container h-100'>\n          <div class='m-3'>\n            <h1>Guest Book</h1>\n          </div>\n          <div class='card card-adv mt-4 mb-4'>\n            <div class = \"card-body card-body-adv\" id=\"chat\">\n                  {this.state.book.map(mes => <div class=\"mt-4\"><h5>{mes.name}</h5>{mes.message}</div>)}\n            </div>\n\n            <div class='card-footer'>\n\n              {/* <h3>Please, enter your name and what you want to say</h3> */}\n              <form onSubmit={this.onSubmit}>\n\n                <div class = 'row'>\n                  <div class = 'mt-1 col-md-12 col-lg-2'>\n                    <input placeholder=\"Enter your Name\" onChange={this.onChange} value={this.state.name}  class=\"form-control\" name=\"firstname\"></input>\n                  </div>\n\n                  <div class = \"mt-1 col-lg-8 col-xl-9\">\n                    <input placeholder=\"Enter message\" onChange={this.onChange} name=\"message\" class=\"form-control\"></input>\n                  </div>\n\n                  <div class=\" mt-1 col\">\n                    <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\n                  </div>\n                </div>\n\n              </form>\n          </div>\n        </div>\n      </div>\n    );}\n    \n  }\n  \nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n"],"sourceRoot":""}