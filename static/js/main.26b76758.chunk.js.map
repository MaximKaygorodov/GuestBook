{"version":3,"sources":["App.js","index.js"],"names":["App","props","onChange","e","name","state","mes","message","target","value","setState","getContent","url","encodeURIComponent","fetch","then","response","json","book","onSubmit","preventDefault","console","log","document","getElementById","scrollToBottom","element","scrollTop","scrollHeight","this","class","id","map","placeholder","type","Component","ReactDOM","render"],"mappings":"qMA0GeA,G,wDArGb,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IAsBRC,SAAW,SAACC,GACV,IAAIC,EAAO,EAAKC,MAAMD,KAClBE,EAAM,EAAKD,MAAME,QACC,cAAlBJ,EAAEK,OAAOJ,MACXA,EAAOD,EAAEK,OAAOC,MAChB,EAAKC,SAAS,CAACN,KAAMA,KAEI,YAAlBD,EAAEK,OAAOJ,OAChBE,EAAMH,EAAEK,OAAOC,MACf,EAAKC,SAAS,CAACH,QAASD,MAhCV,EAsClBK,WAAa,WACX,IAAMC,EAAG,8DAA0DC,mBAAmB,EAAKR,MAAMD,MAAxF,sCACcS,mBAAmB,EAAKR,MAAME,UACrDO,MAAMF,GACHG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAV,GAAK,OAAI,EAAKK,SAAS,CAACQ,KAAOb,QA3CvB,EA8ClBc,SAAW,SAAChB,GACVA,EAAEiB,iBACE,EAAKf,MAAMD,MAAQ,EAAKC,MAAME,SAChC,EAAKI,aAEPU,QAAQC,IAAI,EAAKjB,MAAMa,MACvBK,SAASC,eAAe,WAAWf,MAAQ,IApD3B,EAuDlBgB,eAAiB,WACf,IAAIC,EAAUH,SAASC,eAAe,QACtCE,EAAQC,UAAYD,EAAQE,cAvD5B,EAAKvB,MAAQ,CACXD,KAAM,GACNG,QAAS,GACTW,KAAM,IALQ,E,gEAUE,IAAD,OAEjBJ,MADY,wDAETC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAV,GAAK,OAAI,EAAKK,SAAS,CAACQ,KAAOb,OACvCgB,QAAQC,IAAI,kBACZO,KAAKJ,mB,2CAILI,KAAKJ,mB,+BAyCL,OACI,yBAAKK,MAAM,mBACT,yBAAKA,MAAM,OACT,2CAEF,yBAAKA,MAAM,2BAET,yBAAKA,MAAQ,0BAA0BC,GAAG,QAEjCF,KAAKxB,MAAMa,KAAK,GAChBW,KAAKxB,MAAMa,KAAKc,KAAI,SAAA1B,GAAG,OAAI,yBAAKwB,MAAM,QAAO,4BAAKxB,EAAIF,MAAU,2BAAIE,EAAIC,aACxE,wBAAIuB,MAAM,QAAV,eAIT,yBAAKA,MAAM,eACT,0BAAMX,SAAUU,KAAKV,UAEnB,yBAAKW,MAAQ,OACX,yBAAKA,MAAQ,2BACX,2BAAOG,YAAY,kBAAkB/B,SAAU2B,KAAK3B,SAAUO,MAAOoB,KAAKxB,MAAMD,KAAO0B,MAAM,eAAe1B,KAAK,eAGnH,yBAAK0B,MAAQ,0BACX,2BAAOG,YAAY,gBAAgBF,GAAG,UAAU7B,SAAU2B,KAAK3B,SAAUE,KAAK,UAAU0B,MAAM,kBAGhG,yBAAKA,MAAM,aACT,4BAAQI,KAAK,SAASJ,MAAM,mBAA5B,oB,GA3FFK,cCClBC,IAASC,OACP,kBAAC,EAAD,MAASd,SAASC,eAAe,U","file":"static/js/main.26b76758.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './style.css'\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      message: '',\r\n      book: []\r\n    }\r\n    \r\n  }\r\n  \r\n  componentDidMount(){\r\n    const url = \"https://servername123.herokuapp.com/api/request_data\";\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(state => this.setState({book : state}));\r\n    console.log(\"data requested\")\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  componentDidUpdate(){\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  onChange = (e) => {\r\n    let name = this.state.name;\r\n    let mes = this.state.message;\r\n    if (e.target.name === \"firstname\"){\r\n      name = e.target.value;\r\n      this.setState({name: name});\r\n    }\r\n    else if (e.target.name === \"message\"){\r\n      mes = e.target.value;\r\n      this.setState({message: mes});\r\n      // console.log(this.state.message)\r\n    }\r\n  }\r\n\r\n\r\n  getContent = () => {\r\n    const url = `https://servername123.herokuapp.com/api/submit?name=${encodeURIComponent(this.state.name)}\r\n                &message=${encodeURIComponent(this.state.message)}`;\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(state => this.setState({book : state}));\r\n  }\r\n     \r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.name && this.state.message){\r\n      this.getContent();\r\n    }\r\n    console.log(this.state.book) \r\n    document.getElementById('message').value = '';\r\n  }\r\n    \r\n  scrollToBottom = () => {\r\n    var element = document.getElementById(\"chat\");\r\n    element.scrollTop = element.scrollHeight;\r\n}\r\n\r\n  render() {\r\n    return (\r\n        <div class='container h-100'>\r\n          <div class='m-3'>\r\n            <h1>Guest Book</h1>\r\n          </div>\r\n          <div class='card card-adv mt-4 mb-4'>\r\n\r\n            <div class = \"card-body card-body-adv\" id=\"chat\">\r\n                  {\r\n                    (this.state.book[0]) ? \r\n                    (this.state.book.map(mes => <div class=\"mt-4\"><h5>{mes.name}</h5><p>{mes.message}</p></div>)):\r\n                    (<h5 class=\"mt-4\">Loading...</h5>)\r\n                  }\r\n            </div>\r\n\r\n            <div class='card-footer'>\r\n              <form onSubmit={this.onSubmit}>\r\n\r\n                <div class = 'row'>\r\n                  <div class = 'mt-1 col-md-12 col-lg-2'>\r\n                    <input placeholder=\"Enter your Name\" onChange={this.onChange} value={this.state.name}  class=\"form-control\" name=\"firstname\"></input>\r\n                  </div>\r\n\r\n                  <div class = \"mt-1 col-lg-8 col-xl-9\">\r\n                    <input placeholder=\"Enter message\" id=\"message\" onChange={this.onChange} name=\"message\" class=\"form-control\"></input>\r\n                  </div>\r\n\r\n                  <div class=\" mt-1 col\">\r\n                    <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n                  </div>\r\n                </div>\r\n\r\n              </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );}\r\n    \r\n  }\r\n  \r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />, document.getElementById('root')\n);\n"],"sourceRoot":""}